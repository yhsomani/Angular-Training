<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive TypeScript Learning Hub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <style>
        body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        .form-input { @apply w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all; }
        .form-input.border-red-500 { @apply ring-1 ring-red-500 border-red-500; }
        .btn { @apply px-4 py-2 rounded-lg font-semibold text-white transition-transform transform hover:scale-105 shadow-md disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100; }
        .btn-primary { @apply bg-blue-600 hover:bg-blue-700; }
        .btn-secondary { @apply bg-gray-500 hover:bg-gray-600; }
        .btn-danger { @apply bg-red-600 hover:bg-red-700; }
        .btn-edit { @apply bg-yellow-500 hover:bg-yellow-600; }
        .concept-card { @apply bg-white p-6 rounded-2xl shadow-lg mb-8; }
        pre[class*="language-"] { @apply rounded-lg text-sm; }
        #toast { @apply fixed bottom-5 right-5 z-40 px-6 py-3 rounded-lg text-white shadow-xl transition-transform duration-300 translate-y-20; }
        #toast.show { @apply translate-y-0; }
        #delete-modal-overlay { @apply fixed inset-0 z-50 bg-black bg-opacity-50 flex items-center justify-center p-4 transition-opacity duration-300 opacity-0 pointer-events-none; }
        #delete-modal-overlay.show { @apply opacity-100 pointer-events-auto; }
        #delete-modal-overlay > div { @apply transform transition-transform duration-300 scale-95; }
        #delete-modal-overlay.show > div { @apply scale-100; }
        .error-message { @apply text-red-600 text-xs mt-1 h-4; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto p-4 md:p-8 max-w-7xl">
        <header class="text-center mb-10">
            <h1 class="text-4xl md:text-5xl font-bold text-blue-700 mb-2">Interactive TypeScript Learning Hub</h1>
            <p class="text-lg text-gray-600">Explore core TypeScript concepts through hands-on, interactive examples.</p>
        </header>

        <!-- Concept Cards -->
        <div class="concept-card">
            <h2 class="text-3xl font-bold mb-4 text-gray-800 border-b pb-2">1. Data Types</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                <div>
                    <p class="text-gray-600 mb-4">TypeScript adds static typing to JavaScript. The code shows how you declare a variable's type, and the output shows its value.</p>
                    <pre><code class="language-typescript">// TS enforces the type of data a variable can hold.
let studentName: string = "Alex";
let age: number = 21;
let isEnrolled: boolean = true;</code></pre>
                </div>
                <div class="bg-gray-100 p-4 rounded-lg">
                    <h3 class="font-semibold text-lg mb-2">Live Output:</h3>
                    <p><strong>studentName</strong> (string): <span id="output-name" class="font-mono p-1 bg-white rounded"></span></p>
                    <p><strong>age</strong> (number): <span id="output-age" class="font-mono p-1 bg-white rounded"></span></p>
                    <p><strong>isEnrolled</strong> (boolean): <span id="output-enrolled" class="font-mono p-1 bg-white rounded"></span></p>
                </div>
            </div>
        </div>
        
        <div class="concept-card">
            <h2 class="text-3xl font-bold mb-4 text-gray-800 border-b pb-2">2. Interfaces & Objects</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                <div>
                     <p class="text-gray-600 mb-4">Interfaces define a "contract" or shape for objects. This ensures objects have the correct properties and types.</p>
                    <pre><code class="language-typescript">interface UserInterface {
  id: number;
  name: string;
  email?: string; // Optional property
}
const user: UserInterface = { id: 1, name: "Jane Doe" };</code></pre>
                </div>
                <div class="bg-gray-100 p-4 rounded-lg">
                    <h3 class="font-semibold text-lg mb-2">Object Conforming to Interface:</h3>
                    <pre id="output-interface" class="bg-white rounded p-2"><code class="language-json"></code></pre>
                </div>
            </div>
        </div>

        <div class="concept-card">
            <h2 class="text-3xl font-bold mb-4 text-gray-800 border-b pb-2">3. Special Types (Enum, Tuple, Null)</h2>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <div class="bg-gray-50 p-4 rounded-lg border">
                    <h3 class="font-semibold text-lg mb-2">Enum</h3>
                    <p class="text-sm text-gray-600 mb-2">Enums assign friendly names to sets of numeric values.</p>
                    <pre class="mb-2"><code class="language-typescript">enum UserRole { ADMIN, EDITOR, VIEWER }
let role: UserRole = UserRole.ADMIN;</code></pre>
                    <p><strong>Output:</strong> <span id="output-enum" class="font-mono p-1 bg-white rounded"></span></p>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border">
                    <h3 class="font-semibold text-lg mb-2">Tuple</h3>
                    <p class="text-sm text-gray-600 mb-2">Tuples are arrays with a fixed number of elements of known types.</p>
                    <pre class="mb-2"><code class="language-typescript">let userTuple: [string, number] = ["Alice", 30];</code></pre>
                    <p><strong>Output:</strong> <span id="output-tuple" class="font-mono p-1 bg-white rounded"></span></p>
                </div>
                <div class="bg-gray-50 p-4 rounded-lg border">
                    <h3 class="font-semibold text-lg mb-2">Null vs. Undefined</h3>
                    <p class="text-sm text-gray-600 mb-2">`undefined` is for unassigned variables. `null` is for intentionally empty values.</p>
                    <pre class="mb-2"><code class="language-typescript">let unassigned: string;
let empty: string | null = null;</code></pre>
                    <p><strong>unassigned:</strong> <span id="output-undefined" class="font-mono p-1 bg-white rounded"></span></p>
                    <p><strong>empty:</strong> <span id="output-null" class="font-mono p-1 bg-white rounded"></span></p>
                </div>
            </div>
        </div>

        <div class="concept-card">
            <h2 class="text-3xl font-bold mb-4 text-gray-800 border-b pb-2">4. Type Aliases</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                <div>
                     <p class="text-gray-600 mb-4">Type aliases create a new name for a type. They are useful for simplifying complex types, like function signatures.</p>
                    <pre><code class="language-typescript">// Create a reusable type for a function
type GreetFn = (name: string, title: string) => string;

// Implement the function using the alias
const professionalGreeter: GreetFn = (name, title) => {
    return `Hello, ${title} ${name}.`;
};</code></pre>
                </div>
                <div class="bg-gray-100 p-4 rounded-lg">
                    <h3 class="font-semibold text-lg mb-2">Type Alias Demo:</h3>
                    <button id="greet-alias" class="btn btn-primary text-sm">Call Greeter Function</button>
                    <p class="mt-4"><strong>Output:</strong></p>
                    <div id="output-alias" class="font-mono p-2 bg-white rounded mt-1 min-h-[40px]"></div>
                </div>
            </div>
        </div>

        <div class="concept-card">
            <h2 class="text-3xl font-bold mb-4 text-gray-800 border-b pb-2">5. Functions</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 items-start">
                <div>
                     <p class="text-gray-600 mb-4">Functions can have typed parameters and return values. The `?` makes a parameter optional.</p>
                    <pre><code class="language-typescript">function createGreeting(name: string, age?: number): string {
  if (age) {
    return `Hello, ${name}! You are ${age} years old.`;
  }
  return `Hello, ${name}!`;
}</code></pre>
                </div>
                <div class="bg-gray-100 p-4 rounded-lg">
                    <h3 class="font-semibold text-lg mb-2">Function Demo:</h3>
                    <div class="space-y-2">
                        <button id="greet-no-age" class="btn btn-primary text-sm">Call with name only</button>
                        <button id="greet-with-age" class="btn btn-primary text-sm">Call with name and age</button>
                    </div>
                    <p class="mt-4"><strong>Output:</strong></p>
                    <div id="output-function" class="font-mono p-2 bg-white rounded mt-1 min-h-[40px]"></div>
                </div>
            </div>
        </div>

        <div class="concept-card">
            <h2 class="text-3xl font-bold mb-4 text-gray-800 border-b pb-2">6. Interactive CRUD Example</h2>
             <p class="text-gray-600 mb-4">This employee management tool demonstrates array methods, event delegation, and local storage persistence. It includes form validation and a debounced search for performance.</p>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <div class="lg:col-span-1 bg-gray-50 p-6 rounded-2xl border">
                    <h2 id="form-title" class="text-2xl font-bold mb-4 text-gray-700">Add New Employee</h2>
                    <form id="employee-form" class="space-y-2">
                        <input type="hidden" id="employee-id">
                        <div>
                            <label for="name" class="block text-sm font-medium text-gray-600 mb-1">Full Name</label>
                            <input type="text" id="name" placeholder="e.g., Jane Doe" class="form-input">
                            <div id="name-error" class="error-message"></div>
                        </div>
                        <div>
                            <label for="role" class="block text-sm font-medium text-gray-600 mb-1">Role</label>
                            <input type="text" id="role" placeholder="e.g., Software Engineer" class="form-input">
                             <div id="role-error" class="error-message"></div>
                        </div>
                        <div>
                            <label for="department" class="block text-sm font-medium text-gray-600 mb-1">Department</label>
                            <select id="department" class="form-input"></select>
                        </div>
                        <div class="flex items-center pt-2">
                            <input type="checkbox" id="is-remote" class="h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
                            <label for="is-remote" class="ml-2 block text-sm text-gray-900">Works Remotely</label>
                        </div>
                        <div class="flex space-x-2 pt-2">
                            <button type="submit" id="submit-button" class="btn btn-primary w-full">Add Employee</button>
                            <button type="button" id="cancel-button" class="btn btn-secondary w-full hidden">Cancel</button>
                        </div>
                    </form>
                </div>
                <div class="lg:col-span-2 bg-gray-50 p-6 rounded-2xl border">
                    <div class="flex flex-col sm:flex-row justify-between items-center mb-4">
                        <h2 class="text-2xl font-bold text-gray-700 mb-2 sm:mb-0">Employee Roster</h2>
                        <input type="text" id="search-bar" placeholder="Search by name or role... (.filter)" class="form-input w-full sm:w-64">
                    </div>
                    <div id="employee-list" class="space-y-4"></div>
                     <div id="no-results" class="text-center py-10 text-gray-500 hidden">
                         <p class="font-semibold text-lg">No employees found.</p>
                         <p>Try clearing your search or adding a new employee.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" role="status" aria-live="polite"></div>

    <!-- Delete Confirmation Modal -->
    <div id="delete-modal-overlay">
        <div class="bg-white p-6 rounded-lg shadow-xl w-full max-w-sm" role="dialog" aria-modal="true" aria-labelledby="modal-title">
            <h3 id="modal-title" class="text-lg font-bold mb-2">Confirm Deletion</h3>
            <p class="text-gray-600 mb-4">Are you sure you want to delete this employee? This action cannot be undone.</p>
            <div class="flex justify-end space-x-2">
                <button id="cancel-delete-btn" class="btn btn-secondary">Cancel</button>
                <button id="confirm-delete-btn" class="btn btn-danger">Delete</button>
            </div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // ===============================================
            // DEMOS FOR SIMPLE CONCEPTS (1-5)
            // ===============================================
            document.getElementById('output-name').textContent = `"Alex"`;
            document.getElementById('output-age').textContent = '21';
            document.getElementById('output-enrolled').textContent = 'true';
            document.querySelector('#output-interface code').textContent = JSON.stringify({ id: 1, name: "Jane Doe" }, null, 2);
            const UserRole = { ADMIN: 0, EDITOR: 1, VIEWER: 2 };
            document.getElementById('output-enum').textContent = String(UserRole.ADMIN);
            let userTuple = ["Alice", 30];
            document.getElementById('output-tuple').textContent = `["${userTuple[0]}", ${userTuple[1]}]`;
            let unassigned;
            document.getElementById('output-undefined').textContent = String(unassigned);
            document.getElementById('output-null').textContent = String(null);
            const professionalGreeter = (name, title) => `Hello, ${title} ${name}.`;
            document.getElementById('greet-alias').addEventListener('click', () => {
                document.getElementById('output-alias').textContent = professionalGreeter('Smith', 'Dr.');
            });
            const createGreeting = (name, age) => age ? `Hello, ${name}! You are ${age} years old.` : `Hello, ${name}!`;
            document.getElementById('greet-no-age').addEventListener('click', () => {
                document.getElementById('output-function').textContent = createGreeting('Team');
            });
            document.getElementById('greet-with-age').addEventListener('click', () => {
                document.getElementById('output-function').textContent = createGreeting('Team', 5);
            });

            // ===============================================
            // INTERACTIVE CRUD APP LOGIC (6)
            // ===============================================

            /** * @typedef {('Engineering'|'Design'|'Marketing'|'Management')} Department
             * @typedef {{
             * id: string;
             * name: string;
             * role: string;
             * department: Department;
             * isRemote: boolean;
             * }} Employee
             */

            // ---- STATE & CONSTANTS ----
            /** @type {Department[]} */
            const departments = ['Engineering', 'Design', 'Marketing', 'Management'];
            /** @type {Employee[]} */
            let employees = [];
            let employeeIdToDelete = null;
            let searchTimeout;

            // ---- UI ELEMENT SELECTORS ----
            const employeeList = document.getElementById('employee-list');
            const employeeForm = document.getElementById('employee-form');
            const formTitle = document.getElementById('form-title');
            const submitButton = document.getElementById('submit-button');
            const cancelButton = document.getElementById('cancel-button');
            const searchBar = document.getElementById('search-bar');
            const noResultsDiv = document.getElementById('no-results');
            // Form Inputs
            const idInput = document.getElementById('employee-id');
            const nameInput = document.getElementById('name');
            const roleInput = document.getElementById('role');
            const departmentInput = document.getElementById('department');
            const isRemoteInput = document.getElementById('is-remote');
            // Error Messages
            const nameError = document.getElementById('name-error');
            const roleError = document.getElementById('role-error');
            // Toast & Modal
            const toast = document.getElementById('toast');
            const deleteModalOverlay = document.getElementById('delete-modal-overlay');
            const modal = deleteModalOverlay.querySelector('[role="dialog"]');
            const confirmDeleteBtn = document.getElementById('confirm-delete-btn');
            const cancelDeleteBtn = document.getElementById('cancel-delete-btn');

            // ---- LOCAL STORAGE FUNCTIONS ----
            const saveEmployeesToStorage = () => {
                localStorage.setItem('ts-employees', JSON.stringify(employees));
            };

            const loadEmployeesFromStorage = () => {
                const storedEmployees = localStorage.getItem('ts-employees');
                if (storedEmployees) {
                    return JSON.parse(storedEmployees);
                }
                // Default data if storage is empty
                return [
                    { id: crypto.randomUUID(), name: 'Alice Johnson', role: 'Lead Developer', department: 'Engineering', isRemote: true },
                    { id: crypto.randomUUID(), name: 'Bob Williams', role: 'UI/UX Designer', department: 'Design', isRemote: false },
                    { id: crypto.randomUUID(), name: 'Charlie Brown', role: 'Project Manager', department: 'Management', isRemote: false },
                ];
            };

            // ---- HELPER & VALIDATION FUNCTIONS ----
            /**
             * @param {string} message The message to display.
             * @param {('success'|'error')} type The type of toast.
             */
            const showToast = (message, type = 'success') => {
                toast.textContent = message;
                const bgColor = type === 'success' ? 'bg-green-600' : 'bg-red-600';
                toast.className = `fixed bottom-5 right-5 z-40 px-6 py-3 rounded-lg text-white shadow-xl transition-transform duration-300 translate-y-20 ${bgColor}`;
                setTimeout(() => toast.classList.add('show'), 10);
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 3000);
            };

            const populateDepartments = () => {
                departments.forEach(dep => {
                    const option = document.createElement('option');
                    option.value = dep;
                    option.textContent = dep;
                    departmentInput.appendChild(option);
                });
            };

            const validateForm = () => {
                let isValid = true;
                nameError.textContent = '';
                roleError.textContent = '';
                nameInput.classList.remove('border-red-500');
                roleInput.classList.remove('border-red-500');

                if (nameInput.value.trim() === '') {
                    nameError.textContent = 'Name is required.';
                    nameInput.classList.add('border-red-500');
                    isValid = false;
                } else if (employees.some(emp => emp.name.toLowerCase() === nameInput.value.trim().toLowerCase() && emp.id !== idInput.value)) {
                    nameError.textContent = 'An employee with this name already exists.';
                    nameInput.classList.add('border-red-500');
                    isValid = false;
                }

                if (roleInput.value.trim() === '') {
                    roleError.textContent = 'Role is required.';
                    roleInput.classList.add('border-red-500');
                    isValid = false;
                }
                
                return isValid;
            };

            // ---- CORE CRUD & RENDERING ----
            /**
             * @param {Employee[]} employeeData The array of employees to render.
             */
            const renderEmployees = (employeeData) => {
                employeeList.innerHTML = '';
                noResultsDiv.classList.toggle('hidden', employeeData.length > 0);

                const fragment = document.createDocumentFragment();
                employeeData.forEach(employee => {
                    const card = document.createElement('div');
                    card.className = 'flex items-center justify-between p-4 bg-white rounded-xl border border-gray-200 shadow-sm';
                    card.dataset.id = employee.id;
                    card.innerHTML = `
                        <div class="flex items-center space-x-4 pointer-events-none">
                            <div class="w-12 h-12 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-xl shrink-0">${employee.name.charAt(0)}</div>
                            <div>
                                <p class="font-bold text-gray-800">${employee.name}</p>
                                <p class="text-sm text-gray-500">${employee.role} - <span class="font-medium">${employee.department}</span></p>
                                <span class="text-xs mt-1 inline-block font-semibold px-2 py-0.5 rounded-full ${employee.isRemote ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}">${employee.isRemote ? 'Remote' : 'Office'}</span>
                            </div>
                        </div>
                        <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2">
                            <button class="btn btn-edit text-sm p-2" data-action="edit" aria-label="Edit ${employee.name}">Edit</button>
                            <button class="btn btn-danger text-sm p-2" data-action="delete" aria-label="Delete ${employee.name}">Delete</button>
                        </div>`;
                    fragment.appendChild(card);
                });
                employeeList.appendChild(fragment);
            };
            
            const filterAndRender = () => {
                const searchTerm = searchBar.value.toLowerCase().trim();
                const filtered = employees.filter(emp => 
                    emp.name.toLowerCase().includes(searchTerm) || 
                    emp.role.toLowerCase().includes(searchTerm)
                );
                renderEmployees(filtered);
            };

            const resetForm = () => {
                employeeForm.reset();
                idInput.value = '';
                formTitle.textContent = 'Add New Employee';
                submitButton.textContent = 'Add Employee';
                cancelButton.classList.add('hidden');
                // Clear validation errors
                nameError.textContent = '';
                roleError.textContent = '';
                nameInput.classList.remove('border-red-500');
                roleInput.classList.remove('border-red-500');
            };

            // ---- EVENT HANDLERS ----
            /** @param {Event} event */
            const handleFormSubmit = (event) => {
                event.preventDefault();
                if (!validateForm()) return;

                const isUpdate = idInput.value !== '';
                /** @type {Employee} */
                const employeeData = {
                    id: isUpdate ? idInput.value : crypto.randomUUID(),
                    name: nameInput.value.trim(), 
                    role: roleInput.value.trim(),
                    department: departmentInput.value, 
                    isRemote: isRemoteInput.checked
                };
                
                if (isUpdate) {
                    const existingIndex = employees.findIndex(emp => emp.id === employeeData.id);
                    if (existingIndex > -1) {
                        employees[existingIndex] = employeeData;
                    }
                } else {
                    employees.push(employeeData);
                }
                
                saveEmployeesToStorage();
                searchBar.value = ''; 
                filterAndRender();
                resetForm();
                showToast(`Employee ${isUpdate ? 'updated' : 'added'} successfully!`, 'success');
            };

            /** @param {Event} event */
            const handleListClick = (event) => {
                const button = event.target.closest('button[data-action]');
                if (!button) return;
                
                const action = button.dataset.action;
                const id = button.closest('[data-id]').dataset.id;
                
                if (action === 'edit') editEmployee(id);
                else if (action === 'delete') showDeleteModal(id);
            };
            
            /** @param {string} id */
            const editEmployee = (id) => {
                const employee = employees.find(emp => emp.id === id);
                if (!employee) return;
                
                idInput.value = employee.id;
                nameInput.value = employee.name;
                roleInput.value = employee.role;
                departmentInput.value = employee.department;
                isRemoteInput.checked = employee.isRemote;
                
                formTitle.textContent = 'Edit Employee';
                submitButton.textContent = 'Save Changes';
                cancelButton.classList.remove('hidden');
                formTitle.scrollIntoView({ behavior: 'smooth' });
            };

            const confirmDeletion = () => {
                if (!employeeIdToDelete) return;
                
                const employeeToDelete = employees.find(emp => emp.id === employeeIdToDelete);
                employees = employees.filter(emp => emp.id !== employeeIdToDelete);
                
                saveEmployeesToStorage();
                searchBar.value = ''; // Clear search after deletion for consistency
                filterAndRender();
                hideDeleteModal();
                showToast(`Deleted ${employeeToDelete?.name || 'employee'}.`, 'error');
                if (idInput.value === employeeIdToDelete) {
                    resetForm(); // Reset form if the deleted employee was being edited
                }
            };

            const handleSearchInput = () => {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(filterAndRender, 250); // 250ms debounce
            };

            // ---- MODAL LOGIC ----
            /** @param {string} id */
            const showDeleteModal = (id) => {
                employeeIdToDelete = id;
                deleteModalOverlay.classList.add('show');
                confirmDeleteBtn.focus();
            };

            const hideDeleteModal = () => {
                employeeIdToDelete = null;
                deleteModalOverlay.classList.remove('show');
            };
            
            /** @param {KeyboardEvent} e */
            const handleModalKeyDown = (e) => {
                if (e.key === 'Escape') {
                    hideDeleteModal();
                } else if (e.key === 'Tab') {
                    const focusableElements = Array.from(modal.querySelectorAll('button'));
                    const firstElement = focusableElements[0];
                    const lastElement = focusableElements[focusableElements.length - 1];
                    
                    if (e.shiftKey) {
                        if (document.activeElement === firstElement) {
                            lastElement.focus();
                            e.preventDefault();
                        }
                    } else {
                        if (document.activeElement === lastElement) {
                            firstElement.focus();
                            e.preventDefault();
                        }
                    }
                }
            };
            
            // ---- INITIALIZATION & EVENT LISTENERS ----
            employeeForm.addEventListener('submit', handleFormSubmit);
            cancelButton.addEventListener('click', resetForm);
            searchBar.addEventListener('input', handleSearchInput);
            employeeList.addEventListener('click', handleListClick);
            confirmDeleteBtn.addEventListener('click', confirmDeletion);
            cancelDeleteBtn.addEventListener('click', hideDeleteModal);
            deleteModalOverlay.addEventListener('keydown', handleModalKeyDown);
            deleteModalOverlay.addEventListener('click', (e) => { if (e.target === deleteModalOverlay) hideDeleteModal(); });

            const initializeApp = () => {
                populateDepartments();
                employees = loadEmployeesFromStorage();
                renderEmployees(employees);
                Prism.highlightAll();
            };
            
            initializeApp();
        });
    </script>
</body>
</html>

